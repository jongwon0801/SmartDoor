#### ì‹¤í–‰í•´ì„œ í˜„ì¬ ì¬ìƒ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ì™€ ì—°ê²°ëœ ì¶œë ¥ ì¥ì¹˜ ì •ë³´ í™•ì¸ ê°€ëŠ¥
```less
pactl list short sinks
```

| ë²ˆí˜¸  | ì´ë¦„                                                                           | ì„¤ëª…                                    |
| --- | ---------------------------------------------------------------------------- | ------------------------------------- |
| `0` | `alsa_output.usb-C-Media_Electronics_Inc._USB_Audio_Device-00.analog-stereo` | ğŸ”Š **USB ì˜¤ë””ì˜¤ ë””ë°”ì´ìŠ¤ (ë„ì–´ë½ ìŠ¤í”¼ì»¤ì¼ ê°€ëŠ¥ì„± ìˆìŒ)** |
| `1` | `alsa_output.platform-bcm2835_audio.analog-stereo`                           | ğŸ§ **Raspberry Pi ë‚´ì¥ 3.5mm í—¤ë“œí° ì¶œë ¥**   |
| `2` | `alsa_output.platform-fef00700.hdmi.hdmi-stereo`                             | ğŸ“º **HDMI ì˜¤ë””ì˜¤ ì¶œë ¥**                    |


#### ë…¹ìŒ íŒŒì¼ ì¶œë ¥
```less
cvlc /home/pi/guest_voice/voice_record_no.mp3
cvlc -vvv /home/pi/guest_voice/voice_record_no.mp3

ì¶œë ¥ ì¤‘ audio output ê´€ë ¨ ë¡œê·¸ì—ì„œ ì–´ëŠ ë””ë°”ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ì¶”ì • ê°€ëŠ¥
```

#### cvlc -vvv í‚¤ì›Œë“œë¡œ í˜„ì¬ ì¶œë ¥ë˜ëŠ” ì¥ì¹˜ í™•ì¸
```less
pulse audio output debug: connected to sink alsa_output.platform-fef00700.hdmi.hdmi-stereo
pulse audio output debug: changing sink 2: alsa_output.platform-fef00700.hdmi.hdmi-stereo (ë‚´ì¥ ì˜¤ë””ì˜¤  Digital Stereo (HDMI))
```

| ëª…ë ¹ì–´                                               | ì¶œë ¥ ë°©ì‹                 | ì¶œë ¥ ì¥ì¹˜ ì§€ì •                     |
| ------------------------------------------------- | --------------------- | ---------------------------- |
| `cvlc --aout alsa --alsa-audio-device hw:1,0 ...` | ALSA ì§ì ‘ ì‚¬ìš©, hw:1,0 ì§€ì • | ALSA hw:1,0 (USB ì‚¬ìš´ë“œì¹´ë“œ ë“±)    |
| `cvlc ...`                                        | ì‹œìŠ¤í…œ ê¸°ë³¸ ì˜¤ë””ì˜¤ ì¶œë ¥ ì‚¬ìš©      | PulseAudio ë˜ëŠ” ALSA ê¸°ë³¸ ì„¤ì •ì— ë”°ë¦„ |



#### pulse audio ì¶œë ¥ ì¥ì¹˜ ë³€ê²½ & ì‹¤í–‰
```less
cvlc --play-and-exit /home/pi/guest_voice/voice_record_no.wav

# ê¸°ë³¸ ì¥ì¹˜ USB_Audio_Device 0 ì¶œë ¥ìœ¼ë¡œ ì„¤ì •í•˜ê¸°  (ë„ì–´ë½ ìŠ¤í”¼ì»¤)
# USB ì˜¤ë””ì˜¤ ì¥ì¹˜ (0ë²ˆ ì¹´ë“œê°€ ì•„ë‹ˆë¼ usb-C-Media_Electronics_Inc.ê°€ ë¶™ì€ ì¥ì¹˜)ë¥¼ ê¸°ë³¸ ì¶œë ¥ ì¥ì¹˜ë¡œ ì„¤ì •í•˜ëŠ” ê²ë‹ˆë‹¤.
pactl set-default-sink alsa_output.usb-C-Media_Electronics_Inc._USB_Audio_Device-00.analog-stereo

# ê¸°ë³¸ ì¥ì¹˜ audio.analog-stereo 1 ì¶œë ¥ìœ¼ë¡œ ì„¤ì •í•˜ê¸° (ì†Œë¦¬ì•ˆë‚¨)
pactl set-default-sink alsa_output.platform-bcm2835_audio.analog-stereo

# ê¸°ë³¸ ì¥ì¹˜ hdmi.hdmi-stereo 2 ì¶œë ¥ìœ¼ë¡œ ì„¤ì •í•˜ê¸° (ë‚´ì¸¡ìŠ¤í”¼ì»¤)
pactl set-default-sink alsa_output.platform-fef00700.hdmi.hdmi-stereo
```


#### ì¥ì¹˜ ì ìœ  í•´ì œ ëŠë ¤ì„œ --play-and-exit í‚¤ì›Œë“œ ë„£ê³  ì†Œë¦¬ ì¶œë ¥í•´ì•¼í•¨
```less
cvlc --play-and-exit /home/pi/guest_voice/voice_record_no.mp3

# Ctrl+Cë¡œ ëŠì„ ë•Œ VLCê°€ ì˜¤ë””ì˜¤ ì¥ì¹˜ ì ìœ  í•´ì œ ëª»í•˜ëŠ” ê²½ìš° ë§ìŒ
cvlc /home/pi/guest_voice/voice_record_no.mp3

# í˜„ì¬ ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •ëœ sinkì˜ ì¸ë±ìŠ¤ë¥¼ í‘œì‹œ
pacmd list-sinks | grep '* index'

* index: 1
```


#### pulse audio ì„œë²„ ìƒíƒœë¥¼ ì •í™•í•˜ê²Œ í™•ì¸
```less
# pulse audio í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep pulseaudio

# PulseAudioê°€ ì •ìƒ ì‘ë™ ì¤‘ì´ë©´ ì¡°ìš©íˆ ì¢…ë£Œë¨
pulseaudio --check

# PulseAudio ì„œë²„ ì—°ê²° í™•ì¸
pactl info
ì„œë²„ê°€ ì‘ë™í•˜ì§€ ì•Šìœ¼ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€(ì˜ˆ: Connection failure: Connection refused)

# ì‹¤ì œ ì„œë¹„ìŠ¤ ìƒíƒœ, ë¡œê·¸ê¹Œì§€ í™•ì¸
systemctl --user status pulseaudio
```


#### ì‹¤ì œ ì¶œë ¥ ì¥ì¹˜ê°€ ì–´ë””ì¸ì§€ ë³¼ ìˆ˜ ìˆëŠ” ëª…ë ¹
```less
pacmd list-sinks | grep -E 'name:|device.description|index|state'

  * index: 0
	name: <alsa_output.usb-C-Media_Electronics_Inc._USB_Audio_Device-00.analog-stereo>
	state: SUSPENDED
		device.description = "USB Audio Device ì•„ë‚ ë¡œê·¸ ìŠ¤í…Œë ˆì˜¤ "
    index: 1
	name: <alsa_output.platform-bcm2835_audio.analog-stereo>
	state: SUSPENDED
		device.description = "ë‚´ì¥ ì˜¤ë””ì˜¤  Analog Stereo"
    index: 2
	name: <alsa_output.platform-fef00700.hdmi.hdmi-stereo>
	state: SUSPENDED
		device.description = "ë‚´ì¥ ì˜¤ë””ì˜¤  Digital Stereo (HDMI)"
```


#### pulse audio ë™ì‘ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ (ì¢…ë£Œ í›„ pulseaudio --start í‚¤ë©´ ì—ëŸ¬)
```less
# í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ì„¸ì…˜ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ pulseaudio í”„ë¡œì„¸ìŠ¤ í•˜ë‚˜ë§Œ ì¢…ë£Œ
pulseaudio -k

# ê¸°ë‹¤ë ¸ë‹¤ê°€ í”„ë¡œì„¸ìŠ¤ ë‚¨ì•„ìˆëŠ”ì§€ í™•ì¸
ps aux | grep pulseaudio

# ì‹œìŠ¤í…œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  pulseaudio í”„ë¡œì„¸ìŠ¤ ì „ë¶€ ì¢…ë£Œ
killall pulseaudio
```


#### serviceë¡œ pulseaudio ì„œë²„ í‚¨ë‹¤ (ë‚´ ì»´í“¨í„°(ë¡œì»¬)ì—ì„œ ì‹¤í–‰ë˜ëŠ” ë°±ê·¸ë¼ìš´ë“œ ì‚¬ìš´ë“œ ì„œë²„)
```less
systemctl --user start pulseaudio.service

systemctl --user status pulseaudio.service

systemctl --user status pulseaudio.socket

# PulseAudio ì„œë²„ ì‹¤í–‰ (ì´ê±°ë§ê³  ì„œë¹„ìŠ¤ë¡œ ì‹¤í–‰ ì´ê±°ë¡œ ì•ˆì¼œì§)
pulseaudio --start

ps aux | grep pulseaudio

ps aux | grep PipeWire

/run/user/1000/pulse/native ìˆëŠ”ì§€í™•ì¸

/home/pi/.config/pulse ê²½ë¡œ
-default-sink	- ê¸°ë³¸ ì¶œë ¥ì¥ì¹˜
-default-source	- ê¸°ë³¸ ì…ë ¥ì¥ì¹˜

# PulseAudioëŠ” ì¼ë°˜ì ìœ¼ë¡œ $XDG_RUNTIME_DIR/pulse/native ì†Œì¼“ìœ¼ë¡œ í†µì‹ í•©ë‹ˆë‹¤.
echo $XDG_RUNTIME_DIR
ls -l $XDG_RUNTIME_DIR/pulse/native

echo $PULSE_SERVER
ë³´í†µì€ ë¹„ì–´ìˆê±°ë‚˜ unix:/run/user/1000/pulse/native ê°™ì€ ê°’ì´ ë‚˜ì˜µë‹ˆë‹¤.
```

#### ì¤‘ìš”! HDMI í™”ë©´ë³´í˜¸ê¸° ìƒíƒœë©´ ì†Œë¦¬ ì¶œë ¥ ì•ˆë¨!!
```less
# HDMI ì‹¤ì œ ì—°ê²° ì—¬ë¶€
cat /sys/class/drm/card0-HDMI-A-1/status

connected â†’ HDMI ì¼œì§

disconnected â†’ HDMI êº¼ì§ ë˜ëŠ” ë¯¸ì—°ê²°

# HDMI ë‚´ì¸¡ ê¸°ë³¸ ì¶œë ¥ìœ¼ë¡œ í™œì„±í™” 2ë²ˆ ìŠ¤í”¼ì»¤ë¡œ ì„¤ì •
pactl set-default-sink alsa_output.platform-fef00700.hdmi.hdmi-stereo

# usb ì™¸ì¸¡ ê¸°ë³¸ ì¶œë ¥ìœ¼ë¡œ í™œì„±í™” 0ë²ˆ ìŠ¤í”¼ì»¤ë¡œ ì„¤ì •
pactl set-default-sink alsa_output.usb-C-Media_Electronics_Inc._USB_Audio_Device-00.analog-stereo

# --aout=pulse ì˜µì…˜ì€ VLCê°€ PulseAudioë¡œ ê°•ì œ ì¶œë ¥
cvlc --aout=pulse --play-and-exit /home/pi/guest_voice/voice_record_no.wav
```

#### ì†Œë¦¬ ì¶œë ¥ ë””ë°”ì´ìŠ¤ ìŒëŸ‰ ì¡°ì ˆ
```less
#  ALSA ìª½ì—ì„œ HDMI ì˜¤ë””ì˜¤ ë³¼ë¥¨ì´ ë„ˆë¬´ ë‚®ê±°ë‚˜ ë®¤íŠ¸ ë˜ì–´ìˆëŠ”ì§€ í™•ì¸
alsamixer
alsamixer ì‹¤í–‰ í›„ F6 ëˆŒëŸ¬ HDMI ë””ë°”ì´ìŠ¤ ì„ íƒí•˜ê³  ë³¼ë¥¨ í™•ì¸/ì¡°ì •
```

#### ì¶œë ¥ ì¥ì¹˜ ì¡°íšŒ
```less
pacmd list-sinks | grep -E 'name:|device.description|index|state'

pacmd list-sinks | grep '* index'

pactl list short sinks

pactl list sinks

pactl info
```

#### ì…ë ¥ ì¥ì¹˜ ì¡°íšŒ
```less
pacmd list-sources | grep -E 'name:|device.description|index|state'

pacmd list-sources | grep '* index'

pactl list short sources

pactl list sources
```

#### ì˜¤ë””ì˜¤ ì¶œë ¥ ì¥ì¹˜ë¥¼ ì§€ì •í–ˆëŠëƒ ì•ˆ í–ˆëŠëƒ ì°¨ì´
```less
# hdmi ë‚´ì¸¡ ìŠ¤í”¼ì»¤ ë²¨ ì¶œë ¥ (ì˜¤ë””ì˜¤ ì¶œë ¥ì¥ì¹˜ ì§€ì •)
cvlc --play-and-exit /home/pi/www/sound/bell.wav --alsa-audio-device hdmi:CARD=vc4hdmi0,DEV=0

# ë³„ë„ì˜ ì˜¤ë””ì˜¤ ì¥ì¹˜ ì§€ì • ì—†ì´ ê¸°ë³¸ ALSA/PulseAudio ì„¤ì •ì„ ë”°ë¥¸ë‹¤
cvlc --play-and-exit /home/pi/guest_voice/voice_record_no.wav

# ë„ì–´ë½ ì™¸ì¸¡ ìŠ¤í”¼ì»¤ ë²¨ ì¶œë ¥
cvlc --play-and-exit /home/pi/www/sound/bell.wav --alsa-audio-device iec958:CARD=Device,DEV=0 --aout=alsa
```

#### vlc cvlc ì•ˆì „ì¢…ë£Œ
```less
1. q í‚¤ ëˆ„ë¥´ê¸°

cvlc ì‹¤í–‰ ì¤‘ì— í„°ë¯¸ë„ì—ì„œ q í‚¤ë¥¼ ëˆ„ë¥´ë©´ VLCê°€ ì •ìƒ ì¢…ë£Œí•˜ë©´ì„œ ì˜¤ë””ì˜¤ ì¥ì¹˜ë„ ì œëŒ€ë¡œ í•´ì œí•©ë‹ˆë‹¤.

Ctrl+Cë³´ë‹¤ í›¨ì”¬ ì•ˆì „í•´ìš”.
```

```less
2. kill ëª…ë ¹ì–´ ì‚¬ìš© (ë‹¤ë¥¸ í„°ë¯¸ë„ì—ì„œ)

ps aux | grep vlc ë¡œ PID í™•ì¸ í›„

kill PID (SIGTERM) í•˜ë©´ ì •ìƒ ì¢…ë£Œ ì‹œë„

kill -9 PID ëŠ” ê°•ì œ ì¢…ë£Œì´ë‹ˆ ê°€ëŠ¥í•œ killë§Œ ì“°ëŠ” ê²Œ ì¢‹ì•„ìš”.
```

```less
3. ì¬ìƒí•  ë•Œ --play-and-exit ì˜µì…˜ ì‚¬ìš©

cvlc --play-and-exit /home/pi/guest_voice/voice_record_no.wav

ì¬ìƒ ëë‚˜ë©´ ìë™ìœ¼ë¡œ ì¢…ë£Œë˜ë¯€ë¡œ, ìˆ˜ë™ ì¢…ë£Œë¥¼ ì¤„ì—¬ì¤ë‹ˆë‹¤.
```

âœ… HDMI ì¶œë ¥ ìƒíƒœ ì ê²€
```less
amixer -c 3

alsamixer -c 3
```
```less
alsamixer -c 1
1ë²ˆ ì¹´ë“œ ì†Œë¦¬ì¡°ì ˆ
```




