#### SPI와 I2C:
```less
마이크로컨트롤러(예: 라즈베리파이)의 GPIO 핀에서 직접 지원하는 저전력/단거리 통신 프로토콜

따라서 라즈베리파이와 같은 보드에서 지원하는 핀에 바로 연결되는 센서나 장치는 별도의 컨버터 없이 통신이 가능
이들은 라즈베리파이의 내부 로직 전압 레벨(3.3V)과 호환되기 때문
```

#### I2C (Inter-Integrated Circuit):
```less
하나의 마스터 장치가 여러 슬레이브 장치들을 제어합니다
멀티-마스터 모드도 지원하지만, 일반적으로는 단일 마스터로 사용됩니다

단 2개의 선(SDA와 SCL)만으로 통신이 가능합니다
각 슬레이브 장치는 고유한 주소를 가집니다
```

#### SPI (Serial Peripheral Interface):
```less
하나의 마스터 장치가 여러 슬레이브 장치들을 제어합니다
MOSI(Master Out Slave In), MISO(Master In Slave Out), SCLK(Serial Clock), SS(Slave Select) 선을 사용
마스터가 SS 선을 통해 통신할 슬레이브를 선택합니다
전이중 통신(동시에 데이터 송수신)이 가능합니다
```

#### 라즈베리파이 통신
```less
라즈베리파이에서 I2C나 SPI 통신은 주로 GPIO(General Purpose Input/Output) 핀을 통해 이루어집니다.

라즈베리파이 보드에 있는 40개의 핀 또는 26핀 GPIO 헤더에는 특정 핀들이
I2C, SPI, UART와 같은 통신을 위한 전용 기능(하드웨어 지원)을 가지고 있습니다.

1. I2C 통신: 라즈베리파이의 특정 GPIO 핀(일반적으로 SDA와 SCL)을 통해 연결됩니다.
이 핀들은 I2C 장치와 직접 연결되어 데이터를 주고받습니다.

2. SPI 통신: 라즈베리파이의 여러 GPIO 핀(MOSI, MISO, SCLK, CE/CS)을 통해 연결됩니다.
이 핀들을 사용하여 SPI 장치와 고속으로 통신할 수 있습니다.

3. 반면, USB는 라즈베리파이의 또 다른 인터페이스이며,주로 키보드, 마우스, 외장 저장 장치, 웹캠,
또는 USB-직렬/I2C/SPI 컨버터와 같은 일반적인 외부 주변 장치 연결에 사용됩니다.
자체적으로 USB 포트를 통해 I2C나 SPI 장치를 직접 제어하는 경우는 드물고, 보통은 중간에 변환기가 필요합니다.
```

#### RS-232와 RS-485:
```less
이들은 통신 **프로토콜이라기보다는 특정 전기적 신호 표준(물리적 계층)**입니다.
즉, 전압 레벨, 신호 전달 방식(단일 종단, 차동 등)을 정의합니다.

RS-232는 비교적 높은 전압 레벨(±5V ~ ±15V)을 사용하고,
RS-485는 차동 신호 방식을 사용하여 장거리 통신과 노이즈 내성에 유리합니다.

문제는 라즈베리파이와 같은 마이크로컨트롤러의 GPIO 핀은
이러한 RS-232/RS-485의 전압 레벨이나 신호 방식을 직접 지원하지 않습니다.
라즈베리파이의 GPIO는 보통 3.3V TTL/CMOS 로직 레벨을 사용합니다.

따라서 라즈베리파이가 RS-232 또는 RS-485 장치와 통신하려면
반드시 전압 레벨 및 신호 변환을 위한 트랜시버(Transceiver) 칩이나 모듈(컨버터)이 필요합니다.
예를 들어, MAX3232 칩은 RS-232 컨버터로, SP3485나 MAX485 칩은 RS-485 컨버터로 사용됩니다.
이들은 라즈베리파이의 UART 신호를 RS-232/RS-485의 물리적 신호로 바꿔주는 역할을 합니다.
```

#### 정리
```less
SPI/I2C:
장치가 라즈베리파이의 GPIO 로직 레벨 및 통신 규격에 맞춰 제작되었다면 컨버터가 필요 없습니다.

RS-232/RS-485:
라즈베리파이가 이들 규격의 장치와 통신하려면 물리적 신호를 변환하는 컨버터(트랜시버 모듈)가 필수적입니다.
```

#### UART
```less
UART(Universal Asynchronous Receiver/Transmitter)는
SPI, I2C와 같은 통신 프로토콜에 해당하지만,
RS-485나 RS-232와 같은 물리적 계층의 전압 표준과는 구분됩니다.
```
#### 특징
```less
통신 프로토콜: UART는 데이터를 직렬로 전송하는 방식을 정의하는 프로토콜입니다
논리적 계층: 데이터 비트, 패리티 비트, 정지 비트 등의 프레임 구조를 정의합니다
물리적 구현: UART 자체는 **TTL 레벨(보통 3.3V 또는 5V)** 의 신호를 사용합니다
```

#### UART 통신의 특징:
```less
비동기식 통신 방식 (클럭 신호 없이 통신)
일반적으로 두 개의 데이터 선(TX, RX)을 사용
통신 속도(Baud rate)를 미리 설정해야 함
데이터 프레임 구조: 시작 비트, 데이터 비트, 패리티 비트(선택적), 정지 비트로 구성
```

#### UART에서 전송할 수 있는 데이터 형식:
```less
문자열(ASCII/텍스트): 가장 일반적인 사용 방식으로, 사람이 읽을 수 있는 텍스트 형태로 통신합니다.
바이너리 데이터: 숫자, 구조체, 바이트 배열 등 어떤 형태의 바이너리 데이터도 전송 가능합니다.
제어 명령: 특정 장치를 제어하기 위한 명령어를 전송할 수 있습니다.
```

#### TTY(TeleTYpewriter)
```less
TTY(TeleTYpewriter)는 원래 텔레타이프 장치를 가리키는 용어였으며,
현재는 컴퓨터 시스템에서 터미널 인터페이스를 의미합니다. TTY는 다음과 같은 특성을 가집니다:
```

```less
논리적 인터페이스: TTY는 주로 운영체제에서 문자 기반 입출력을 위한 논리적 인터페이스입니다
장치 파일: 리눅스/유닉스 시스템에서 /dev/tty*와 같은 장치 파일로 표현됩니다
추상화 계층: 물리적 전압 표준이 아닌 소프트웨어 추상화 계층에 가깝습니다
```

```less
반면, RS-232와 RS-485는:

물리적 전기 신호의 전압 레벨, 타이밍, 케이블 특성 등을 정의하는 표준입니다
실제 하드웨어 연결에 사용되는 전기적 인터페이스 규격입니다
```

```less
스마트 도어 프로젝트에서 라즈베리파이를 사용하실 때,
/dev/ttyS0나 /dev/ttyAMA0와 같은 TTY 장치를 통해 UART 통신을 구현하실 수 있습니다.
이 TTY 장치는 물리적으로는 RS-232나 RS-485와 같은 표준을 통해 외부 장치와 연결될 수 있습니다.
```

#### 라즈베리파이의 /dev 디렉토리에서 볼 수 있는 TTY 관련 장치들은 다음과 같습니다:
```less
/dev/tty - 현재 프로세스의 제어 터미널을 가리키는 특수 파일
/dev/ttyAMA0 - 라즈베리파이의 하드웨어 UART(직렬 포트)
/dev/ttyS0 - 시리얼 포트 (일부 라즈베리파이 모델에서 블루투스와 공유)
/dev/ttyUSB0 - USB-시리얼 컨버터가 연결된 경우 생성됨
/dev/pts/X - 가상 터미널(pseudoterminal)을 나타냄 (SSH 연결이나 터미널 에뮬레이터에서 사용)
```

```less
TTY 장치들은 리눅스에서 문자 장치(character device)로 분류되며,
바이트 스트림 형태로 데이터를 주고받는 인터페이스를 제공합니다.

TTY는 하드웨어를 제어하기 위한 소프트웨어 인터페이스이자 운영체제 차원의 개념입니다.

반면에 RS-485와 RS-232는 실제 물리적인 전기 신호의 전압 레벨,
배선 방식 등을 정의하는 하드웨어 및 전기적 표준입니다
```

#### USB 통신
```less
USB로 나가는 신호는 TTL과 다른 방식으로 작동합니다
USB는 자체적인 통신 프로토콜과 전압 표준을 가지고 있습니다.
```

#### USB 통신의 특징:
```less
차동 신호 방식 사용 (D+와 D- 라인)
전압 레벨: 일반적으로 0V와 3.3V/5V 사이
다양한 속도 지원 (Low Speed, Full Speed, High Speed, Super Speed 등)
복잡한 프로토콜 계층 구조 (물리 계층, 데이터 링크 계층, 프로토콜 계층)
```

```less
USB-시리얼 컨버터(예: FTDI 칩)를 사용하시면,
라즈베리파이는 이 장치를 /dev/ttyUSB0와 같은 TTY 장치로 인식하게 됩니다.

이렇게 되면 USB 프로토콜을 통해 데이터가 전송되지만, 소프트웨어 측면에서는 일반 시리얼 포트처럼 사용할 수 있습니다.
```

#### 모드버스
```less
모드버스(Modbus)는 통신 프로토콜이지만 그 자체로는 특정 전압 표준을 정의하지 않습니다.
모드버스는 주로 물리적 계층 위에서 작동하는 데이터 프로토콜입니다.

모드버스가 사용하는 물리적 계층의 전압 표준은 구현 방식에 따라 다릅니다:
```

#### RTU (Remote Terminal Unit)
```less
RTU는 "Remote Terminal Unit"의 줄임말입니다.
모드버스 RTU에서 사용되는 이 용어는 원격 단말 장치를 의미합니다.
이 장치는 산업 자동화 및 제어 시스템에서 중요한 역할을 하며,
센서나 기타 장치로부터 데이터를 수집하고 중앙 제어 시스템으로 전송하는 기능을 담당합니다.

모드버스 RTU 통신은 네트워크 TCP/IP 없이
직렬 통신(RS-485, RS-232 등)을 통해 이루어지는 유선 통신 방식입니다.
```

#### 모드버스 RTU의 주요 특징은 다음과 같습니다:
```less
마스터-슬레이브 구조로 작동합니다
직렬 통신선을 통해 데이터를 바이너리 형태로 전송합니다
CRC(Cyclic Redundancy Check) 오류 검사를 사용합니다
메시지 프레임이 간결하고 전송 효율이 높습니다

반면, 모드버스 TCP는 이더넷 네트워크를 통해 TCP/IP 프로토콜을 사용하는 방식입니다.
```

#### 모드버스 RTU/ASCII (RS-485 기반):
```less
일반적으로 RS-485 표준을 사용하며, 차동 신호 방식
전압 레벨: 보통 -7V에서 +12V 범위 (일반적으로 ±5V)
신호 차이가 200mV 이상이면 유효한 신호로 간주
```

#### 모드버스 RTU/ASCII (RS-232 기반):
```less
RS-232 표준 사용 시
전압 레벨: 송신 시 ±5V에서 ±15V (보통 +12V는 논리적 0, -12V는 논리적 1)
```

#### 모드버스 TCP:
```less
이더넷 물리 계층 사용 (보통 IEEE 802.3 표준)
전압 레벨은 이더넷 물리 계층에 따라 다름 (예: 10BASE-T는 ±2.5V)
```














































