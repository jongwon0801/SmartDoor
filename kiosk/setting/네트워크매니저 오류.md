#### dhcpcd Networkmanager 충돌

#### 네트워크 config Networkmanager 로 변경
```less
sudo raspi-config
-> Advanced Options
-> Network Config
-> Networkmanager

# 재부팅
sudo reboot
```

✅ 1. dhcpcd 서비스와의 충돌
```less
NetworkManager로 변경하면 dhcpcd와 충돌할 수 있습니다. 먼저 dhcpcd가 꺼져 있는지 확인하세요:

sudo systemctl status dhcpcd

sudo systemctl disable dhcpcd

sudo systemctl stop dhcpcd

sudo killall dhcpcd
```

✅ 2. NetworkManager가 제대로 작동 중인지 확인
```less
sudo systemctl status NetworkManager

정상적으로 active (running)이어야 합니다. 그렇지 않다면 아래로 재시작 시도:

sudo systemctl restart NetworkManager
```

✅ 3. nmcli로 Wi-Fi 목록 검색해보기
```less
nmcli device wifi list

아무것도 안 나온다면:

Wi-Fi 모듈이 인식이 안 됐거나

소프트웨어적으로 꺼졌을 가능성
```

✅ 4. Wi-Fi 모듈 인식 확인
```less
iwconfig

여기서 wlan0 같은 무선 인터페이스가 보이나요?
아예 안 보이면 하드웨어 문제 또는 드라이버 미설치 문제일 수 있습니다.
```

✅ 5. rfkill로 Wi-Fi 블록 확인
```less
rfkill list

출력 중 Soft blocked: yes 또는 Hard blocked: yes 라면 Wi-Fi가 꺼져 있는 상태입니다. 이럴 경우 다음 명령으로 풀어주세요:

sudo rfkill unblock wifi
```

1. dhcpcd는 껐지만 다른 DHCP 클라이언트가 살아 있음
```less
예: NetworkManager가 내부적으로 자체 DHCP 클라이언트를 사용해서 IP를 잡고 있을 수 있음.

또는, dhclient, systemd-networkd, wicd, netplan 등이 DHCP 역할을 할 수 있음.
```
```less
ps aux | grep dhc
```

→ 여기서 dhclient, dhcpcd, networkd, wicd 등이 나오는지 확인해보세요.

2. dhcpcd는 꺼졌지만 여전히 IP가 캐시로 남아 있음
```less
DHCP로 받은 IP는 한번 받은 후 바로 없어지지 않고 남아 있다가 재부팅까지 유지될 수 있습니다.

ip addr로 보면 여전히 IP가 할당되어 있음.
```
```less
sudo ip addr flush dev wlan0

→ 현재 wlan0에 설정된 IP 주소를 모두 초기화함.

# IP 재확인
ip a
```

#### NetworkManager 설정
```less
sudo nano /etc/NetworkManager/NetworkManager.conf
```

#### 수정 전
```less
[main]
plugins=ifupdown,keyfile

[ifupdown]
managed=false
```

#### 수정 후
```less
[main]
plugins=ifupdown,keyfile

[ifupdown]
managed=true
```

✅ 해결 방법: managed=true로 바꾸기
```less
NetworkManager 재시작:

sudo systemctl restart NetworkManager
```
